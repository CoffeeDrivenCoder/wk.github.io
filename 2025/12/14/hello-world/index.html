<!DOCTYPE html>
<html lang="zh-CN"">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/mdui@2/mdui.css">
    <script src="https://unpkg.com/mdui@2/mdui.global.js"></script>
    <link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css">
    <script src="https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"></script>
    <script src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js"> </script>

    
        <link rel="stylesheet" href="/fonts/lxwk/lxwk.css">
    

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/color.css">

    
<link rel="stylesheet" href="/css/widgets/page-transition.css">

 
    

<meta name="generator" content="Hexo 8.1.1"></head>
<body>
    <mdui-top-app-bar variant="center-aligned" scroll-behavior="elevate" class="top-app-bar">
    <mdui-button-icon class="appbar-menu-button">
        <mdui-icon name="menu"></mdui-icon>
    </mdui-button-icon>
    <mdui-top-app-bar-title onclick="window.location.href='/'" style="cursor: pointer;">
        ��Ĳ��ͱ���
    </mdui-top-app-bar-title>
        <mdui-dropdown>
            <div slot="trigger">
                <mdui-tooltip content="appbar.theme">
                    <mdui-button-icon>
                        <mdui-icon name="auto_mode" class="appbar-display-mode-icon"></mdui-icon>
                    </mdui-button-icon>
                </mdui-tooltip>
            </div>
            <mdui-menu selects="single" value="auto" class="appbar-display-mode">
                <mdui-menu-item value="light">亮色模式</mdui-menu-item>
                <mdui-menu-item value="dark">暗色模式</mdui-menu-item>
                <mdui-divider></mdui-divider>
                <mdui-menu-item value="auto">跟随系统</mdui-menu-item>
            </mdui-menu>
        </mdui-dropdown>

        <!-- 搜索按钮 -->
<mdui-button-icon id="search-toggle">
    <mdui-icon name="search"></mdui-icon>
</mdui-button-icon>

<!-- 搜索弹窗 -->
<mdui-dialog id="search-dialog" close-on-esc close-on-overlay-click class="search-dialog">
    <div class="search-header">
        <mdui-text-field class="search-input" placeholder="搜索文章、标签、分类..." id="search-input">
            <mdui-icon name="search" slot="icon"></mdui-icon>
        </mdui-text-field>
        <mdui-button-icon class="close-btn" id="search-close">
            <mdui-icon name="close"></mdui-icon>
        </mdui-button-icon>
    </div>

    <div class="search-content">
        <div id="search-results" class="search-results">
            <div class="search-placeholder">
                <mdui-icon name="search"></mdui-icon>
                <div>输入关键词开始搜索</div>
            </div>
        </div>
    </div>

    <div class="search-footer">
        <span class="result-count" id="result-count"></span>
        <mdui-button id="search-close-btn">关闭</mdui-button>
    </div>
</mdui-dialog>

<style>
.search-dialog::part(overlay) {
    backdrop-filter: blur(10px) saturate(180%);
    -webkit-backdrop-filter: blur(10px) saturate(180%); /* Safari 支持 */
    background: rgba(0, 0, 0, 0.4);
}

.search-dialog {
    --mdui-dialog-width: 600px;
    --mdui-dialog-height: 70vh;
}

.search-header {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 20px 24px 0;
    margin-bottom: 16px;
}

.search-input {
    flex: 1;
}

.close-btn {
    margin-left: auto;
}

.search-content {
    padding: 0 24px;
    flex: 1;
    overflow: hidden;
}

.search-results {
    height: 100%;
    overflow-y: auto;
}

.search-results::-webkit-scrollbar {
    width: 6px;
}

.search-results::-webkit-scrollbar-track {
    background: var(--mdui-color-surface-container);
}

.search-results::-webkit-scrollbar-thumb {
    background: var(--mdui-color-outline-variant);
    border-radius: 3px;
}

.search-placeholder {
    text-align: center;
    padding: 60px 20px;
    color: var(--mdui-color-on-surface-variant);
}

.search-placeholder mdui-icon {
    font-size: 48px;
    margin-bottom: 16px;
    opacity: 0.5;
}

.search-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 24px;
    border-top: 1px solid var(--mdui-color-outline-variant);
}

.result-count {
    font-size: 0.875rem;
    color: var(--mdui-color-on-surface-variant);
}

.search-result-item {
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 8px;
    border: 1px solid var(--mdui-color-outline-variant);
    cursor: pointer;
    transition: all 0.3s ease;
    background: var(--mdui-color-surface);
}

.search-result-item:hover {
    background: var(--mdui-color-surface-container-hover);
    border-color: var(--mdui-color-primary);
    transform: translateY(-2px);
}

.search-result-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    color: var(--mdui-color-on-surface);
    margin-bottom: 8px;
}

.search-result-content {
    color: var(--mdui-color-on-surface-variant);
    font-size: 0.875rem;
    line-height: 1.4;
    margin-bottom: 8px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.search-result-meta {
    display: flex;
    gap: 12px;
    font-size: 0.75rem;
    color: var(--mdui-color-on-surface-variant);
}

.search-highlight {
    background: var(--mdui-color-primary-container);
    color: var(--mdui-color-on-primary-container);
    padding: 1px 4px;
    border-radius: 4px;
    font-weight: 600;
}

.no-results, .search-loading {
    text-align: center;
    padding: 60px 20px;
    color: var(--mdui-color-on-surface-variant);
}

@media (max-width: 600px) {
    .search-dialog {
        --mdui-dialog-width: 95vw;
        --mdui-dialog-height: 80vh;
    }
    
    .search-header {
        padding: 16px 16px 0;
    }
    
    .search-content {
        padding: 0 16px;
    }
    
    .search-footer {
        padding: 12px 16px;
    }
}
</style>

<script>
class HexoSearch {
    constructor() {
        this.searchData = null;
        this.dialog = document.getElementById('search-dialog');
        this.init();
    }

    async init() {
        this.bindEvents();
        this.preloadSearchData();
    }

    async preloadSearchData() {
        try {
            const response = await fetch('/search.json');
            this.searchData = await response.json();
        } catch (error) {
            console.error('搜索数据加载失败:', error);
        }
    }

    bindEvents() {
        const searchToggle = document.getElementById('search-toggle');
        const searchInput = document.getElementById('search-input');
        const searchClose = document.getElementById('search-close');
        const searchCloseBtn = document.getElementById('search-close-btn');

        searchToggle.addEventListener('click', () => {
            this.dialog.open = true;
            setTimeout(() => searchInput.focus(), 100);
        });

        const closeDialog = () => {
            this.dialog.open = false;
            searchInput.value = '';
            this.showPlaceholder();
        };

        searchClose.addEventListener('click', closeDialog);
        searchCloseBtn.addEventListener('click', closeDialog);

        searchInput.addEventListener('input', this.debounce((e) => {
            this.performSearch(e.target.value);
        }, 300));

        // 键盘快捷键
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                searchToggle.click();
            }
        });
    }

    debounce(func, wait) {
        let timeout;
        return (...args) => {
            clearTimeout(timeout);
            timeout = setTimeout(() => func(...args), wait);
        };
    }

    performSearch(query) {
        if (!query.trim()) {
            this.showPlaceholder();
            return;
        }

        if (!this.searchData) {
            this.showError('搜索数据加载中...');
            return;
        }

        const results = this.searchPosts(query);
        this.displayResults(results, query);
    }

    searchPosts(query) {
        const keywords = query.toLowerCase().split(' ').filter(k => k);
        const allItems = [...(this.searchData.posts || []), ...(this.searchData.pages || [])];
        
        return allItems
            .map(item => {
                let score = 0;
                const title = item.title || '';
                const content = item.content || '';

                keywords.forEach(keyword => {
                    if (title.toLowerCase().includes(keyword)) score += 10;
                    if (content.toLowerCase().includes(keyword)) score += 2;
                    if (item.tags?.some(tag => tag.toLowerCase().includes(keyword))) score += 5;
                    if (item.categories?.some(cat => cat.toLowerCase().includes(keyword))) score += 3;
                });

                return { ...item, score };
            })
            .filter(item => item.score > 0)
            .sort((a, b) => b.score - a.score)
            .slice(0, 20);
    }

    displayResults(results, query) {
        const container = document.getElementById('search-results');
        const countElement = document.getElementById('result-count');
        
        if (results.length === 0) {
            container.innerHTML = `
                <div class="no-results">
                    <mdui-icon name="search_off" style="font-size: 48px; margin-bottom: 16px;"></mdui-icon>
                    <div>没有找到包含 "${this.escapeHtml(query)}" 的内容</div>
                </div>
            `;
            countElement.textContent = '';
            return;
        }

        container.innerHTML = results.map(item => this.createResultItem(item, query)).join('');
        countElement.textContent = `找到 ${results.length} 个结果`;
        
        container.querySelectorAll('.search-result-item').forEach((item, index) => {
            item.addEventListener('click', () => {
                window.location.href = results[index].url;
                this.dialog.open = false;
            });
        });
    }

    createResultItem(item, query) {
        const title = item.title || '无标题';
        const content = item.content || '';
        const highlightedTitle = this.highlightText(title, query);
        const excerpt = this.createExcerpt(content, query);

        return `
            <div class="search-result-item">
                <div class="search-result-title">
                    <mdui-icon name="article" style="font-size: 16px;"></mdui-icon>
                    ${highlightedTitle}
                </div>
                <div class="search-result-content">${excerpt}</div>
                <div class="search-result-meta">
                    ${item.date ? `<span>${item.date}</span>` : ''}
                </div>
            </div>
        `;
    }

    highlightText(text, query) {
        let highlighted = this.escapeHtml(text);
        query.toLowerCase().split(' ').filter(k => k).forEach(keyword => {
            const regex = new RegExp(`(${this.escapeRegex(keyword)})`, 'gi');
            highlighted = highlighted.replace(regex, '<span class="search-highlight">$1</span>');
        });
        return highlighted;
    }

    createExcerpt(content, query) {
        const keywords = query.toLowerCase().split(' ').filter(k => k);
        let excerpt = this.escapeHtml(content.substring(0, 120));
        
        keywords.forEach(keyword => {
            const regex = new RegExp(`(${this.escapeRegex(keyword)})`, 'gi');
            excerpt = excerpt.replace(regex, '<span class="search-highlight">$1</span>');
        });

        return excerpt + (content.length > 120 ? '...' : '');
    }

    escapeRegex(string) {
        return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    escapeHtml(unsafe) {
        return unsafe.replace(/[&<>"']/g, m => ({
            '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;'
        }[m]));
    }

    showPlaceholder() {
        document.getElementById('search-results').innerHTML = `
            <div class="search-placeholder">
                <mdui-icon name="search"></mdui-icon>
                <div>输入关键词开始搜索</div>
            </div>
        `;
        document.getElementById('result-count').textContent = '';
    }

    showError(message) {
        document.getElementById('search-results').innerHTML = `
            <div class="no-results">${message}</div>
        `;
    }
}

document.addEventListener('DOMContentLoaded', () => new HexoSearch());
</script>
        <!-- 动态配色选择器组件 -->
<mdui-button-icon id="color-picker-trigger" class="color-picker-icon">
  <mdui-icon name="palette"></mdui-icon>
  <mdui-tooltip content="动态配色"></mdui-tooltip>
</mdui-button-icon>

<mdui-dialog id="color-picker-dialog" class="dynamic-color-dialog" close-on-overlay-click>
  <div class="mdui-dialog-title">动态配色设置</div>
  <div class="mdui-dialog-content">
    
    <!-- 颜色选择 -->
    <div class="color-section">
      <h4>选择颜色</h4>
      <div class="color-picker-container">
        <input type="color" id="native-color-picker" class="native-color-picker" value="#6750a4">
        <mdui-button id="random-color-btn" variant="tonal">随机颜色</mdui-button>
      </div>
      
      <!-- 颜色预览 -->
      <div class="color-preview">
        <div class="preview-label">预览:</div>
        <div id="color-preview" class="preview-sample"></div>
      </div>
    </div>

    <mdui-divider></mdui-divider>

    <!-- 操作按钮 -->
    <div class="color-section">
      <div class="action-buttons">
        <mdui-button id="reset-color-btn" variant="tonal">重置</mdui-button>
      </div>
    </div>

  </div>
  <div class="mdui-dialog-actions">
    <mdui-button id="cancel-color-btn">取消</mdui-button>
    <mdui-button variant="filled" id="apply-color-btn">应用</mdui-button>
  </div>
</mdui-dialog>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // 获取DOM元素
  const colorPickerTrigger = document.getElementById('color-picker-trigger');
  const colorDialog = document.getElementById('color-picker-dialog');
  const cancelBtn = document.getElementById('cancel-color-btn');
  const applyBtn = document.getElementById('apply-color-btn');
  const nativeColorPicker = document.getElementById('native-color-picker');
  const resetBtn = document.getElementById('reset-color-btn');
  const randomBtn = document.getElementById('random-color-btn');
  const colorPreview = document.getElementById('color-preview');

  let selectedColor = nativeColorPicker.value;

  // 本地存储键名
  const COLOR_SCHEME_KEY = 'materialis-color-scheme';

  // 页面加载时恢复保存的颜色主题
  function loadSavedColorScheme() {
    try {
      const savedColor = localStorage.getItem(COLOR_SCHEME_KEY);
      if (savedColor && isValidColor(savedColor)) {
        applyColorScheme(savedColor);
        nativeColorPicker.value = savedColor;
        updateColorPreview(savedColor);
        selectedColor = savedColor;
      }
    } catch (e) {
      console.warn('无法从本地存储加载颜色主题:', e);
    }
  }

  // 保存颜色主题到本地存储
  function saveColorScheme(color) {
    try {
      if (color && isValidColor(color)) {
        localStorage.setItem(COLOR_SCHEME_KEY, color);
      } else {
        localStorage.removeItem(COLOR_SCHEME_KEY);
      }
    } catch (e) {
      console.warn('无法保存颜色主题到本地存储:', e);
    }
  }

  // 应用颜色主题
  function applyColorScheme(color) {
    if (typeof mdui !== 'undefined' && mdui.setColorScheme) {
      mdui.setColorScheme(color);
    } else {
      console.error('MDUI setColorScheme 函数未找到');
    }
  }

  // 移除颜色主题
  function removeColorScheme() {
    if (typeof mdui !== 'undefined' && mdui.removeColorScheme) {
      mdui.removeColorScheme();
    }
  }

  // 打开对话框
  colorPickerTrigger.addEventListener('click', function() {
    colorDialog.open = true;
  });

  // 关闭对话框
  cancelBtn.addEventListener('click', function() {
    colorDialog.open = false;
    resetSelection();
  });

  // 原生颜色选择器事件
  nativeColorPicker.addEventListener('input', function() {
    selectedColor = this.value;
    updateColorPreview(selectedColor);
  });

  // 应用配色
  applyBtn.addEventListener('click', function() {
    if (selectedColor && isValidColor(selectedColor)) {
      // 应用并保存配色方案
      applyColorScheme(selectedColor);
      saveColorScheme(selectedColor);
      
      // 显示成功提示
      mdui.snackbar({
        message: '配色已应用',
        placement: 'bottom',
        timeout: 2000
      });
      
      colorDialog.open = false;
      resetSelection();
    } else {
      mdui.snackbar({
        message: '请输入有效的颜色值',
        placement: 'bottom',
        timeout: 2000
      });
    }
  });

  // 重置配色
  resetBtn.addEventListener('click', function() {
    removeColorScheme();
    saveColorScheme(null);
    
    mdui.snackbar({
      message: '配色已重置',
      placement: 'bottom',
      timeout: 2000
    });
    
    resetSelection();
  });

  // 随机颜色
  randomBtn.addEventListener('click', function() {
    const randomColor = '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
    selectedColor = randomColor;
    nativeColorPicker.value = randomColor;
    updateColorPreview(randomColor);
  });

  // 辅助函数：验证颜色值
  function isValidColor(color) {
    return /^#([A-Fa-f0-9]{6})$/.test(color);
  }

  // 更新颜色预览
  function updateColorPreview(color) {
    if (colorPreview && isValidColor(color)) {
      colorPreview.style.backgroundColor = color;
    }
  }

  // 重置选择状态
  function resetSelection() {
    selectedColor = nativeColorPicker.value;
    updateColorPreview(selectedColor);
  }
  
  // 页面加载时恢复保存的主题
  loadSavedColorScheme();
});
</script>

<style>
.dynamic-color-dialog::part(overlay) {
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    background: rgba(0, 0, 0, 0.4);
}

.dynamic-color-dialog {
    --mdui-dialog-width: 400px;
    --mdui-dialog-max-height: 90vh;
}

.mdui-dialog-title {
    text-align: center;
    padding: 20px 20px 0;
    font-weight: 500;
    color: var(--mdui-color-on-surface);
    font-size: 1.1rem;
}

.mdui-dialog-content {
    padding: 16px 20px;
}

.mdui-dialog-actions {
    padding: 12px 20px 20px;
    justify-content: flex-end;
    gap: 12px;
}

.color-section {
    margin-bottom: 16px;
}

.color-section:last-child {
    margin-bottom: 0;
}

.color-section h4 {
    margin: 0 0 12px 0;
    color: var(--mdui-color-on-surface);
    font-size: 0.95rem;
    font-weight: 500;
}

.color-picker-container {
    display: flex;
    gap: 12px;
    align-items: center;
    margin-bottom: 16px;
}

.native-color-picker {
    width: 60px;
    height: 40px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background-color: var(--mdui-color-surface-container);
}

.native-color-picker::-webkit-color-swatch {
    border: 1px solid var(--mdui-color-outline-variant);
    border-radius: 6px;
}

.native-color-picker::-moz-color-swatch {
    border: 1px solid var(--mdui-color-outline-variant);
    border-radius: 6px;
}

.color-preview {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-top: 8px;
}

.preview-label {
    color: var(--mdui-color-on-surface-variant);
    font-size: 0.85rem;
}

.preview-sample {
    width: 60px;
    height: 30px;
    border-radius: 4px;
    border: 1px solid var(--mdui-color-outline-variant);
    background-color: transparent;
}

.action-buttons {
    display: flex;
    gap: 12px;
}

.color-picker-icon {
    margin: 0 4px;
    color: var(--mdui-color-on-surface-variant);
    transition: all 0.2s ease;
}

.color-picker-icon:hover {
    color: var(--mdui-color-primary);
}

/* 响应式设计 */
@media (max-width: 600px) {
    .dynamic-color-dialog {
        --mdui-dialog-width: 90vw;
    }
    
    .mdui-dialog-content {
        padding: 12px 16px;
    }
    
    .mdui-dialog-actions {
        padding: 12px 16px 16px;
    }
}

.mdui-dialog-content::-webkit-scrollbar {
    width: 6px;
}

.mdui-dialog-content::-webkit-scrollbar-track {
    background: var(--mdui-color-surface-container);
}

.mdui-dialog-content::-webkit-scrollbar-thumb {
    background: var(--mdui-color-outline-variant);
    border-radius: 3px;
}
</style>
        
            <!-- 文章导航按钮 -->
<mdui-button-icon id="toc-toggle">
    <mdui-icon name="menu_book"></mdui-icon>
</mdui-button-icon>

<!-- 文章导航弹窗 -->
<mdui-dialog id="toc-dialog" close-on-esc close-on-overlay-click class="toc-dialog">
    <div class="toc-header">
        <mdui-typography variant="h6">文章导航</mdui-typography>
        <mdui-button-icon class="close-btn" id="toc-close">
            <mdui-icon name="close"></mdui-icon>
        </mdui-button-icon>
    </div>

    <div class="toc-content">
        <div id="toc-container" class="toc-container">
            <!-- 目录内容将通过JavaScript动态加载 -->
            <div class="toc-placeholder">
                <mdui-icon name="menu_book"></mdui-icon>
                <div>暂无文章导航</div>
            </div>
        </div>
    </div>

    <div class="toc-footer">
        <mdui-button id="toc-close-btn">关闭</mdui-button>
    </div>
</mdui-dialog>

<style>
.toc-dialog::part(overlay) {
    backdrop-filter: blur(10px) saturate(180%);
    -webkit-backdrop-filter: blur(10px) saturate(180%); /* Safari 支持 */
    background: rgba(0, 0, 0, 0.4);
}

.toc-dialog {
    --mdui-dialog-width: 500px;
    --mdui-dialog-height: 70vh;
    --mdui-dialog-max-height: 80vh;
}

.toc-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 24px 0;
    margin-bottom: 16px;
}

.toc-content {
    padding: 0 24px;
    flex: 1;
    overflow: hidden;
}

.toc-container {
    height: 100%;
    overflow-y: auto;
    padding: 8px 0;
}

.toc-container::-webkit-scrollbar {
    width: 6px;
}

.toc-container::-webkit-scrollbar-track {
    background: var(--mdui-color-surface-container);
}

.toc-container::-webkit-scrollbar-thumb {
    background: var(--mdui-color-outline-variant);
    border-radius: 3px;
}

.toc-placeholder {
    text-align: center;
    padding: 60px 20px;
    color: var(--mdui-color-on-surface-variant);
}

.toc-placeholder mdui-icon {
    font-size: 48px;
    margin-bottom: 16px;
    opacity: 0.5;
}

.toc-footer {
    display: flex;
    justify-content: flex-end;
    padding: 16px 24px;
    border-top: 1px solid var(--mdui-color-outline-variant);
}

.toc-list {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

.toc-list ul {
    padding-left: 1.5rem;
    margin: 0.5rem 0;
}

.toc-list li {
    margin: 0.25rem 0;
}

.toc-link {
    display: block;
    padding: 0.5rem 0.75rem;
    color: var(--mdui-color-on-surface);
    text-decoration: none;
    border-radius: 6px;
    transition: all 0.2s ease;
}

.toc-link:hover {
    background-color: var(--mdui-color-surface-container-hover);
    color: var(--mdui-color-primary);
}

.toc-link.active {
    background-color: var(--mdui-color-primary-container);
    color: var(--mdui-color-on-primary-container);
    font-weight: 500;
}

@media (max-width: 600px) {
    .toc-dialog {
        --mdui-dialog-width: 95vw;
        --mdui-dialog-height: 80vh;
    }
    
    .toc-header {
        padding: 16px 16px 0;
    }
    
    .toc-content {
        padding: 0 16px;
    }
    
    .toc-footer {
        padding: 12px 16px;
    }
}
</style>

<script>
class HexoTOC {
    constructor() {
        this.dialog = document.getElementById('toc-dialog');
        this.tocContainer = document.getElementById('toc-container');
        this.init();
    }

    init() {
        this.bindEvents();
    }

    bindEvents() {
        const tocToggle = document.getElementById('toc-toggle');
        const tocClose = document.getElementById('toc-close');
        const tocCloseBtn = document.getElementById('toc-close-btn');

        if (tocToggle) {
            tocToggle.addEventListener('click', () => {
                this.open();
            });
        }

        if (tocClose) {
            tocClose.addEventListener('click', () => {
                this.close();
            });
        }

        if (tocCloseBtn) {
            tocCloseBtn.addEventListener('click', () => {
                this.close();
            });
        }

        // 监听ESC键关闭
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && this.isOpen()) {
                this.close();
            }
        });
    }

    open() {
        if (this.dialog) {
            this.dialog.open = true;
            // 加载当前页面的目录
            this.loadCurrentPageTOC();
        }
    }

    close() {
        if (this.dialog) {
            this.dialog.open = false;
        }
    }

    isOpen() {
        return this.dialog && this.dialog.open;
    }

    loadCurrentPageTOC() {
        // 检查是否在文章页面
        if (typeof window.page !== 'undefined' && window.page.title) {
            // 从页面内容中提取标题
            this.extractTOCFromContent();
        } else {
            // 显示占位符
            this.tocContainer.innerHTML = `
                <div class="toc-placeholder">
                    <mdui-icon name="menu_book"></mdui-icon>
                    <div>暂无文章导航</div>
                </div>
            `;
        }
    }

    extractTOCFromContent() {
        // 获取文章内容
        const content = document.querySelector('.article-content');
        if (!content) {
            this.tocContainer.innerHTML = `
                <div class="toc-placeholder">
                    <mdui-icon name="menu_book"></mdui-icon>
                    <div>暂无文章导航</div>
                </div>
            `;
            return;
        }

        // 提取标题元素
        const headers = content.querySelectorAll('h1, h2, h3, h4, h5, h6');
        if (headers.length === 0) {
            this.tocContainer.innerHTML = `
                <div class="toc-placeholder">
                    <mdui-icon name="menu_book"></mdui-icon>
                    <div>暂无文章导航</div>
                </div>
            `;
            return;
        }

        // 构建目录HTML
        let tocHTML = '<ul class="toc-list">';
        headers.forEach((header, index) => {
            // 为标题添加ID（如果没有）
            if (!header.id) {
                header.id = 'toc-header-' + index;
            }
            
            const level = parseInt(header.tagName.charAt(1));
            const indent = (level - 1) * 20; // 根据标题级别设置缩进
            
            tocHTML += `
                <li style="margin-left: ${indent}px;">
                    <a href="#${header.id}" class="toc-link" data-target="${header.id}">
                        ${header.textContent}
                    </a>
                </li>
            `;
        });
        tocHTML += '</ul>';
        
        this.tocContainer.innerHTML = tocHTML;
        
        // 绑定导航链接事件
        this.bindTOCEvents();
    }

    bindTOCEvents() {
        const links = this.tocContainer.querySelectorAll('.toc-link');
        links.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('data-target');
                if (targetId) {
                    const target = document.getElementById(targetId);
                    if (target) {
                        // 平滑滚动到目标元素
                        target.scrollIntoView({ 
                            behavior: 'smooth',
                            block: 'center'
                        });
                        // 关闭对话框
                        this.close();
                    }
                }
            });
        });

        // 高亮当前正在阅读的标题
        this.highlightCurrentHeader();
        window.addEventListener('scroll', this.throttle(() => {
            this.highlightCurrentHeader();
        }, 100));
    }

    // 节流函数，防止滚动事件过于频繁
    throttle(fn, wait) {
        let last = 0;
        return function(...args) {
            const now = Date.now();
            if (now - last > wait) {
                last = now;
                fn.apply(this, args);
            }
        };
    }

    // 高亮当前正在阅读的标题
    highlightCurrentHeader() {
        const headers = Array.from(document.querySelectorAll('.article-content h1, .article-content h2, .article-content h3, .article-content h4, .article-content h5, .article-content h6'));
        if (!headers.length) return;
        const scrollY = window.scrollY || window.pageYOffset;
        const offset = 80; // 可根据实际导航栏高度调整
        let currentId = headers[0].id;
        for (let i = 0; i < headers.length; i++) {
            const rect = headers[i].getBoundingClientRect();
            const top = rect.top + scrollY - offset;
            if (scrollY >= top) {
                currentId = headers[i].id;
            } else {
                break;
            }
        }
        // 移除所有高亮
        this.tocContainer.querySelectorAll('.toc-link').forEach(link => {
            link.classList.remove('active');
        });
        // 高亮当前
        const activeLink = this.tocContainer.querySelector('.toc-link[data-target="' + currentId + '"]');
        if (activeLink) {
            activeLink.classList.add('active');
            // 滚动目录到可见区域
            const tocScroll = this.tocContainer;
            const linkRect = activeLink.getBoundingClientRect();
            const tocRect = tocScroll.getBoundingClientRect();
            if (linkRect.top < tocRect.top || linkRect.bottom > tocRect.bottom) {
                tocScroll.scrollTop = activeLink.offsetTop - tocScroll.clientHeight / 2 + activeLink.clientHeight / 2;
            }
        }
    }
}

// 初始化
document.addEventListener('DOMContentLoaded', () => {
    window.hexoTOC = new HexoTOC();
});

// 页面加载完成后再次初始化，确保能获取到文章内容
window.addEventListener('load', () => {
    if (!window.hexoTOC) {
        window.hexoTOC = new HexoTOC();
    }
});
</script>
            <!-- 复制URL图标组件 -->
<mdui-button-icon class="copy-url-btn">
  <mdui-icon>link</mdui-icon>
</mdui-button-icon>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const copyUrlBtn = document.querySelector('.copy-url-btn');
  
  copyUrlBtn.addEventListener('click', async function() {
    try {
      const currentUrl = window.location.href;
      await navigator.clipboard.writeText(currentUrl);
      
      mdui.snackbar({
        message: "链接复制成功！",
        placement: 'bottom',
        timeout: 2000
      });
    } catch (err) {
      mdui.snackbar({
        message: "复制失败，请手动复制",
        placement: 'bottom',
        timeout: 2000
      });
    }
  });
});
</script>
        

</mdui-top-app-bar>
    <mdui-navigation-drawer class="sidebar-content" close-on-overlay-click no-animation>
    <!-- 用户信息卡片 -->
    
    <div class="sidebar-user-card">
        
            <mdui-avatar class="sidebar-user-avatar" src="/images/avatar.png"></mdui-avatar>
        
        
            <div class="sidebar-user-name">你的昵称</div>
        
        
            <div class="sidebar-user-slogen">一句话简介</div>
        
        </div>
    
    
    <!-- 导航菜单 -->
    <mdui-list class="nav-list">
        
            
                <mdui-list-item 
                    class="nav-item"
                    href="/"
                    rounded
                    
                    active
                    
                >
                    <mdui-icon slot="icon" name="home"></mdui-icon>
                    首页
                </mdui-list-item>
            
                <mdui-list-item 
                    class="nav-item"
                    href="/archives/"
                    rounded
                    
                    variant="filled"
                    
                >
                    <mdui-icon slot="icon" name="article"></mdui-icon>
                    归档
                </mdui-list-item>
            
                <mdui-list-item 
                    class="nav-item"
                    href="/categories/"
                    rounded
                    
                    variant="filled"
                    
                >
                    <mdui-icon slot="icon" name="category"></mdui-icon>
                    分类
                </mdui-list-item>
            
                <mdui-list-item 
                    class="nav-item"
                    href="/tags/"
                    rounded
                    
                    variant="filled"
                    
                >
                    <mdui-icon slot="icon" name="tag"></mdui-icon>
                    标签
                </mdui-list-item>
            
                <mdui-list-item 
                    class="nav-item"
                    href="/about/"
                    rounded
                    
                    variant="filled"
                    
                >
                    <mdui-icon slot="icon" name="person"></mdui-icon>
                    关于
                </mdui-list-item>
            
                <mdui-list-item 
                    class="nav-item"
                    href="/links/"
                    rounded
                    
                    variant="filled"
                    
                >
                    <mdui-icon slot="icon" name="link"></mdui-icon>
                    友链
                </mdui-list-item>
            
                <mdui-list-item 
                    class="nav-item"
                    href="/shuoshuo/"
                    rounded
                    
                    variant="filled"
                    
                >
                    <mdui-icon slot="icon" name="chat"></mdui-icon>
                    说说
                </mdui-list-item>
            
        
    </mdui-list>



</mdui-navigation-drawer>
    <main class="main">
        <div class="page-transition-container">
            
<script src="/js/fancybox.js"></script>


<style>
.post-container {
    max-width: 900px;
    margin: 0 auto;
    padding: 40px 20px;
    display: flex;
    flex-direction: column;
    gap: 24px;
}

.post-card-wide {
    border-radius: 20px;
    background-color: rgb(var(--mdui-color-surface-container-low));
    box-shadow: none;
}

.post-card-comment {
    border-radius: 20px;
    background-color: rgb(var(--mdui-color-surface-container-low));
    box-shadow: none;
    padding: 2.5rem;
}

.post-card-nav {
    border-radius: 20px;
    background-color: rgb(var(--mdui-color-surface-container-low));
    box-shadow: none;
    padding: 2.5rem;
}

.markdown-section img,
.article-content img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 1.2em auto;
    object-fit: contain;
    box-sizing: border-box;
    border-radius: 12px;
}

.caption {
  color: #444;
  display: block;
  font-size: 0.9em;
  margin-top: 0.1em;
  position: relative;
  text-align: center;
}

.article-content {
    color: rgb(var(--mdui-color-on-surface));
    line-height: 1.8;
    font-family: var(--mdui-font-family);
    width: 100%;
    overflow-wrap: break-word;
}

.article-content h1,
.article-content h2,
.article-content h3,
.article-content h4,
.article-content h5,
.article-content h6 {
    color: rgb(var(--mdui-color-primary));
    margin-top: 1.5em;
    margin-bottom: 1em;
}

.article-content p {
    margin-bottom: 1.2em;
}

.article-content a {
    color: rgb(var(--mdui-color-primary));
    text-decoration: none;
    border-bottom: 1px dashed rgb(var(--mdui-color-primary));
}

.article-content a:hover {
    opacity: 0.8;
}

.article-content code {
    background-color: rgb(var(--mdui-color-surface-container-high));
    padding: 2px 6px;
    border-radius: 4px;
    font-family: var(--mdui-font-family-mono);
    word-break: break-word;
}

/* 修复代码块样式 - 关键修复 */
.mdui-code-block {
    background: rgb(var(--mdui-color-surface-container-high));
    border-radius: 12px;
    margin: 1.5em 0;
    overflow: hidden;
    font-family: var(--mdui-font-family-mono);
    width: 100%;
    box-sizing: border-box;
    /* 确保代码块不会超出容器 */
    max-width: 100%;
}

.mdui-code-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: rgb(var(--mdui-color-surface-container-highest));
    border-bottom: 1px solid rgb(var(--mdui-color-outline-variant));
    position: relative;
    width: 100%;
    box-sizing: border-box;
    flex-wrap: wrap;
    gap: 8px;
}

.mdui-code-language {
    color: rgb(var(--mdui-color-on-surface-variant));
    font-size: 0.875rem;
    font-weight: 500;
    font-family: var(--mdui-font-family);
    flex-shrink: 0;
}

.mdui-code-actions {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-shrink: 0;
}

.mdui-code-toggle {
    color: rgb(var(--mdui-color-on-surface-variant));
    cursor: pointer;
    transition: color 0.2s ease;
    flex-shrink: 0;
}

.mdui-code-toggle:hover {
    color: rgb(var(--mdui-color-primary));
}

.mdui-code-copy {
    color: rgb(var(--mdui-color-on-surface-variant));
    cursor: pointer;
    transition: color 0.2s ease;
    flex-shrink: 0;
}

.mdui-code-copy:hover {
    color: rgb(var(--mdui-color-primary));
}

.mdui-code-copy.copied {
    color: rgb(var(--mdui-color-success));
}

/* 关键修复：代码内容区域 */
.mdui-code-content {
    position: relative;
    background: rgb(var(--mdui-color-surface-container-high));
    width: 100%;
    box-sizing: border-box;
    /* 修复滚动问题 */
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    /* 确保内容可以水平滚动 */
    display: block;
}

/* 关键修复：代码内容本身 */
.mdui-code-pre {
    margin: 0;
    padding: 16px;
    font-family: var(--mdui-font-family-mono);
    font-size: 0.875rem;
    line-height: 1.5;
    color: rgb(var(--mdui-color-on-surface));
    /* 关键：保持代码不换行 */
    white-space: pre;
    /* 关键：让内容自然扩展 */
    display: inline-block;
    min-width: min-content;
    box-sizing: border-box;
    /* 确保代码可以超出容器宽度 */
    max-width: none;
}

/* 自定义滚动条样式 */
.mdui-code-content::-webkit-scrollbar {
    height: 8px;
}

.mdui-code-content::-webkit-scrollbar-track {
    background: rgb(var(--mdui-color-surface-container));
    border-radius: 0 0 4px 4px;
}

.mdui-code-content::-webkit-scrollbar-thumb {
    background: rgb(var(--mdui-color-outline-variant));
    border-radius: 4px;
}

.mdui-code-content::-webkit-scrollbar-thumb:hover {
    background: rgb(var(--mdui-color-outline));
}

/* Firefox 滚动条样式 */
.mdui-code-content {
    scrollbar-width: thin;
    scrollbar-color: rgb(var(--mdui-color-outline-variant)) rgb(var(--mdui-color-surface-container));
}

.mdui-code-block.collapsed .mdui-code-content {
    display: none;
}

.mdui-code-block.collapsed .mdui-code-toggle .expand-icon {
    display: inline;
}

.mdui-code-block.collapsed .mdui-code-toggle .collapse-icon {
    display: none;
}

.mdui-code-block:not(.collapsed) .mdui-code-toggle .expand-icon {
    display: none;
}

.mdui-code-block:not(.collapsed) .mdui-code-toggle .collapse-icon {
    display: inline;
}

.article-content pre {
    background-color: rgb(var(--mdui-color-surface-container-high));
    padding: 16px;
    border-radius: 8px;
    overflow-x: auto;
    width: 100%;
    box-sizing: border-box;
}

.article-content blockquote {
    border-left: 4px solid rgb(var(--mdui-color-primary));
    padding: 8px 16px;
    margin: 16px 0;
    background-color: rgb(var(--mdui-color-surface-container));
    width: 100%;
    box-sizing: border-box;
}

.article-content ul,
.article-content ol {
    padding-left: 32px;
    margin-bottom: 16px;
    width: 100%;
}

.article-content li {
    margin-bottom: 8px;
    word-break: break-word;
}

.post-navigation {
    display: flex;
    justify-content: space-between;
    gap: 16px;
    padding: 1rem 0;
}

.nav-button {
    flex: 1;
    text-align: center;
    padding: 16px;
    border-radius: 12px;
    background-color: rgb(var(--mdui-color-surface-container));
    color: rgb(var(--mdui-color-on-surface));
    text-decoration: none;
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    gap: 8px;
    box-sizing: border-box;
}

.nav-button:hover {
    background-color: rgb(var(--mdui-color-surface-container-high));
    transform: translateY(-2px);
}

.nav-button.disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
}

.nav-button.disabled:hover {
    background-color: rgb(var(--mdui-color-surface-container));
    transform: none;
}

.nav-label {
    font-size: 0.875rem;
    color: rgb(var(--mdui-color-on-surface-variant));
}

.nav-title {
    font-weight: 500;
}

/* 平板设备 */
@media (max-width: 1024px) {
    .post-container {
        padding: 2rem 24px;
        gap: 20px;
    }
    
    .post-card-wide,
    .post-card-comment,
    .post-card-nav {
        padding: 2rem;
    }
}

/* 手机设备 */
@media (max-width: 768px) {
    .post-container {
        padding: 24px 16px;
        gap: 16px;
    }
    
    .post-card-wide {
        padding: 1.5rem;
    }
    
    .post-card-comment,
    .post-card-nav {
        padding: 1.5rem;
    }
    
    .post-navigation {
        flex-direction: column;
        gap: 12px;
    }
    
    .mdui-code-header {
        padding: 10px 12px;
    }
    
    .mdui-code-pre {
        padding: 12px;
        font-size: 0.8125rem;
    }
    
    .mdui-code-content::-webkit-scrollbar {
        height: 6px;
    }
    
    /* 移动端代码块特殊处理 */
    .mdui-code-block {
        margin: 1em 0;
        border-radius: 8px;
    }
    
    .article-content {
        font-size: 0.9375rem;
    }
}

/* 小屏手机 */
@media (max-width: 480px) {
    .post-container {
        padding: 20px 12px;
        gap: 12px;
    }
    
    .post-card-wide,
    .post-card-comment,
    .post-card-nav {
        padding: 1rem;
        border-radius: 16px;
    }
    
    .mdui-code-pre {
        padding: 10px;
        font-size: 0.75rem;
    }
    
    .article-content ul,
    .article-content ol {
        padding-left: 24px;
    }
    
    .mdui-code-header {
        padding: 8px 12px;
    }
    
    .mdui-code-language {
        font-size: 0.75rem;
    }
}
</style>

<mdui-layout-main>
    <link rel="stylesheet" href="/fonts/banner/banner.css">

<div class="banner-container">
    <mdui-card class="banner-title">
        <div class="banner-title-text1">Hello World</div>
        <div class="banner-title-text2"></div>
        
        <mdui-chip variant="filled">
            <mdui-icon name="calendar_today" slot="icon"></mdui-icon>
            2025-12-14
        </mdui-chip>
        
        
        
        
        
    </mdui-card>
    
    <mdui-card class="banner-image">
        
    </mdui-card>
</div>

<script>
// 只在普通页面加载时执行
if (location.pathname !== '/post/') {
    // 获取一言
    // 请注意此 Web API 的兼容性，
    // 不支持 IE, iOS Safari < 10.1，
    // 完整支持列表参考：https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            const hitokoto = document.querySelector('#hitokoto_text')
            hitokoto.href = `https://hitokoto.cn/?uuid=${data.uuid}`
            hitokoto.innerText = data.hitokoto
        })
        .catch(console.error)
}
</script>

    <div class="post-container">
        <!-- 内容卡片 -->
        <mdui-card variant="filled" class="post-card-wide">
            <mdui-card-content>
                <div class="article-content">
                    <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

                </div>
            </mdui-card-content>
        </mdui-card>

        <!-- 上一篇/下一篇导航 -->
        <mdui-card variant="filled" class="post-card-nav">
            <mdui-card-content>
                <div class="post-navigation">
                    
                        <a class="nav-button disabled">
                            <span class="nav-label">上一篇</span>
                            <span class="nav-title">没有了</span>
                        </a>
                    
                    
                    
                        <a class="nav-button disabled">
                            <span class="nav-label">下一篇</span>
                            <span class="nav-title">没有了</span>
                        </a>
                    
                </div>
            </mdui-card-content>
        </mdui-card>

        <!-- 评论卡片 -->
        <mdui-card variant="filled" class="post-card-comment">
            <mdui-card-content>
                <mdui-typography variant="h5" style="margin-bottom: 1.5rem; text-align: center; color: rgb(var(--mdui-color-primary));">
                    评论
                </mdui-typography>
                
                    <div style="text-align: center; padding: 2rem;">
                        <mdui-typography variant="body2" style="color: var(--mdui-color-on-surface-variant);">
                            评论功能未启用
                        </mdui-typography>
                    </div>
                
            </mdui-card-content>
        </mdui-card>
    </div>
</mdui-layout-main>

<script>
// 代码块功能增强
document.addEventListener('DOMContentLoaded', function() {
    // 处理现有的 pre 代码块
    document.querySelectorAll('pre').forEach(pre => {
        // 检查是否已经被处理过
        if (pre.closest('.mdui-code-block')) {
            return;
        }
        
        const codeBlock = document.createElement('div');
        codeBlock.className = 'mdui-code-block';
        
        // 获取语言类型
        let language = 'Code';
        const codeClass = pre.querySelector('code')?.className;
        if (codeClass) {
            const match = codeClass.match(/language-(\w+)/);
            if (match) {
                language = match[1];
            }
        }
        
        // 创建代码块头部
        const header = document.createElement('div');
        header.className = 'mdui-code-header';
        header.innerHTML = `
            <span class="mdui-code-language">${language}</span>
            <div class="mdui-code-actions">
                <span class="mdui-code-toggle">
                    <mdui-icon class="collapse-icon" size="small">unfold_less</mdui-icon>
                    <mdui-icon class="expand-icon" size="small">unfold_more</mdui-icon>
                </span>
                <span class="mdui-code-copy">
                    <mdui-icon size="small">content_copy</mdui-icon>
                </span>
            </div>
        `;
        
        // 创建代码内容区域
        const content = document.createElement('div');
        content.className = 'mdui-code-content';
        const codePre = document.createElement('pre');
        codePre.className = 'mdui-code-pre';
        codePre.innerHTML = pre.innerHTML;
        content.appendChild(codePre);
        
        // 组装代码块
        codeBlock.appendChild(header);
        codeBlock.appendChild(content);
        
        // 替换原始 pre 元素
        pre.parentNode.replaceChild(codeBlock, pre);
    });
    
    // 添加折叠/展开功能
    document.addEventListener('click', function(e) {
        if (e.target.closest('.mdui-code-toggle')) {
            const codeBlock = e.target.closest('.mdui-code-block');
            codeBlock.classList.toggle('collapsed');
        }
    });
    
    // 添加复制功能
    document.addEventListener('click', function(e) {
        if (e.target.closest('.mdui-code-copy')) {
            const codeBlock = e.target.closest('.mdui-code-block');
            const codeContent = codeBlock.querySelector('.mdui-code-pre').textContent;
            const copyButton = e.target.closest('.mdui-code-copy');
            
            navigator.clipboard.writeText(codeContent).then(() => {
                const originalHTML = copyButton.innerHTML;
                copyButton.innerHTML = '<mdui-icon size="small" style="color: var(--mdui-color-success)">check</mdui-icon>';
                copyButton.classList.add('copied');
                
                setTimeout(() => {
                    copyButton.innerHTML = originalHTML;
                    copyButton.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                console.error('复制失败:', err);
                // 降级方案
                const textArea = document.createElement('textarea');
                textArea.value = codeContent;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                const originalHTML = copyButton.innerHTML;
                copyButton.innerHTML = '<mdui-icon size="small" style="color: var(--mdui-color-success)">check</mdui-icon>';
                copyButton.classList.add('copied');
                
                setTimeout(() => {
                    copyButton.innerHTML = originalHTML;
                    copyButton.classList.remove('copied');
                }, 2000);
            });
        }
    });
    
    // 修复移动端代码块显示问题
    function fixCodeBlocksOnMobile() {
        document.querySelectorAll('.mdui-code-block').forEach(block => {
            const content = block.querySelector('.mdui-code-content');
            const pre = block.querySelector('.mdui-code-pre');
            
            if (content && pre) {
                // 确保代码块在移动端可以正确滚动
                content.style.overflowX = 'auto';
                pre.style.whiteSpace = 'pre';
                pre.style.display = 'inline-block';
                pre.style.minWidth = 'min-content';
            }
        });
    }
    
    // 初始修复
    fixCodeBlocksOnMobile();
    
    // 窗口大小改变时重新修复
    window.addEventListener('resize', fixCodeBlocksOnMobile);
});
</script>
        </div>
    </main>

    <br>
<mdui-divider></mdui-divider>
<mdui-footer class="site-footer">
  <div class="footer-content">
    
    <!-- 主要信息区域 -->
    <div class="footer-main">
      <!-- 版权信息 -->
      <div class="copyright">
        <mdui-chip variant="filled" class="footer-chip">
          <mdui-icon name="copyright" slot="icon"></mdui-icon>
          &copy; 2025 
          <a href="/" class="site-link">��Ĳ��ͱ���</a>
          
            · © 2024 你的博客
          
        </mdui-chip>
      </div>

      <!-- 备案信息 -->
      
        <div class="beian-info">
          
          
        </div>
      

      <!-- 主题信息 -->
      <div class="theme-info">
        <mdui-chip variant="outlined" class="footer-chip">
          <mdui-icon name="code" slot="icon"></mdui-icon>
          Powered by 
          <a href="https://hexo.io/" target="_blank" class="tech-link">Hexo</a> 
          & 
          <a href="https://github.com/Can1425/Hexo-Theme-Materialis" target="_blank" class="tech-link">Materialis</a>
          
            · Theme: Materialis
          
        </mdui-chip>
      </div>

      <!-- 自定义徽章 -->
      
    </div>

  </div>
</mdui-footer>

<style>
/* 强制底部布局 */
.site-footer {
  background: var(--mdui-color-surface);
  border-top: 1px solid var(--mdui-color-outline-variant);
  margin-top: auto !important;
  width: 100%;
  flex-shrink: 0;
}

.footer-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 1.5rem 1rem;
}

/* 主要信息区域 */
.footer-main {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 1rem;
}

/* Chip 通用样式 */
.footer-chip {
  --mdui-chip-height: 32px;
  --mdui-chip-container-color: var(--mdui-color-surface-container);
  --mdui-chip-outline-color: var(--mdui-color-outline-variant);
  transition: all 0.3s ease;
  font-family: var(--mdui-font-family);
  font-size: 0.875rem;
  line-height: 1.5;
  text-align: center;
}

.footer-chip:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* 版权信息 Chip */
.copyright .footer-chip {
  --mdui-chip-container-color: var(--mdui-color-primary-container);
  --mdui-chip-label-text-color: var(--mdui-color-on-primary-container);
}

/* 备案信息 Chip */
.beian-chip {
  --mdui-chip-container-color: var(--mdui-color-secondary-container);
  --mdui-chip-label-text-color: var(--mdui-color-on-secondary-container);
}

/* 主题信息 Chip */
.theme-info .footer-chip {
  --mdui-chip-outline-color: var(--mdui-color-primary);
  --mdui-chip-label-text-color: var(--mdui-color-primary);
}

/* 链接样式 */
.site-link {
  color: inherit;
  text-decoration: none;
  font-weight: 500;
  margin: 0 2px;
  vertical-align: middle;
}

.site-link:hover {
  text-decoration: underline;
}

.tech-link {
  color: inherit;
  text-decoration: none;
  font-weight: 500;
  margin: 0 2px;
  vertical-align: middle;
}

.tech-link:hover {
  text-decoration: underline;
}

/* 备案信息 */
.beian-info {
  display: flex;
  gap: 0.5rem;
  flex-shrink: 0;
  align-items: center;
  justify-content: center;
}

/* 自定义徽章 */
.custom-badges {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  flex-shrink: 0;
  align-items: center;
  justify-content: flex-end;
}

.custom-badge {
  cursor: pointer;
}

/* 响应式设计 */
@media (max-width: 1024px) {
  .footer-main {
    justify-content: center;
    gap: 1rem;
  }
  
  .custom-badges {
    justify-content: center;
  }
}

@media (max-width: 768px) {
  .footer-content {
    padding: 1rem;
  }
  
  .footer-main {
    flex-direction: column;
    text-align: center;
    gap: 0.75rem;
  }
  
  .custom-badges {
    justify-content: center;
  }
  
  .beian-info {
    flex-direction: column;
    align-items: center;
  }
  
  .footer-chip {
    text-align: center;
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .footer-content {
    padding: 0.75rem;
  }
  
  .footer-chip {
    --mdui-chip-height: 28px;
    font-size: 0.875rem;
  }
  
  .custom-badges,
  .beian-info {
    width: 100%;
  }
}
</style>   
</body>

<script type="module" src="/js/main.js"></script>
<script src="/js/widgets/appbar.js"></script>
<script src="/js/widgets/sidebar.js"></script>
<script src="/js/page-transition.js"></script>
<script>        

console.log(`
███╗   ███╗ █████╗ ████████╗███████╗██████╗ ██╗ █████╗ ██╗     ██╗███████╗
████╗ ████║██╔══██╗╚══██╔══╝██╔════╝██╔══██╗██║██╔══██╗██║     ██║██╔════╝
██╔████╔██║███████║   ██║   █████╗  ██████╔╝██║███████║██║     ██║███████╗
██║╚██╔╝██║██╔══██║   ██║   ██╔══╝  ██╔══██╗██║██╔══██║██║     ██║╚════██║
██║ ╚═╝ ██║██║  ██║   ██║   ███████╗██║  ██║██║██║  ██║███████╗██║███████║
╚═╝     ╚═╝╚═╝  ╚═╝   ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝╚═╝  ╚═╝╚══════╝╚═╝╚══════╝
`);
</script>

<!-- 引入自定义 CSS -->


<!-- 自定义头部代码 -->

<!-- 引入自定义 JS -->


<!-- 自定义底部代码 -->


<!-- 纪念日黑白效果 -->

<script>
(function() {
    // 获取今天的日期（月-日格式）
    const today = new Date();
    const month = today.getMonth() + 1; // 月份从0开始，需要+1
    const day = today.getDate();
    const todayStr = month + '.' + day;
    
    // 获取配置的纪念日列表
    const memorialDays = JSON.parse('[7.7,9.18,12.13]');
    
    // 检查今天是否为纪念日
    if (memorialDays.includes(todayStr)) {
        // 应用黑白效果
        const style = document.createElement('style');
        style.innerHTML = `
            html {
                filter: grayscale(100%);
                -webkit-filter: grayscale(100%);
                -moz-filter: grayscale(100%);
                -ms-filter: grayscale(100%);
                -o-filter: grayscale(100%);
            }
        `;
        document.head.appendChild(style);
    }
})();
</script>

</html>